# Отчет об организации изображений по категориям

## Выполненная работа

### 1. Анализ структуры проекта
- Проанализированы все файлы описаний проектов (`.md` файлы) в папке `src/data/portfolio`
- Выявлены категории: `kitchens`, `bathroom`, `proven`, `cabinets`, `children`, `shelves`, `wardrobes`
- Найдены изображения, которые были разбросаны по разным папкам

### 2. Создан автоматический скрипт организации
**Файл:** `scripts/organize-images.js`

**Функционал:**
- Парсинг frontmatter из .md файлов (с поддержкой разных форматов)
- Извлечение категорий и списков изображений из каждого проекта
- Поиск изображений в файловой системе
- Автоматическое перемещение изображений в папки категорий
- Детальная отчетность о процессе

**Команда:** `bun run organize-images`

### 3. Создан скрипт очистки
**Файл:** `scripts/cleanup-images.js`

**Функционал:**
- Удаление оставшихся изображений из корня portfolio
- Очистка папки `{{category}}`
- Отчет о количестве удаленных файлов

**Команда:** `bun run cleanup-images`

## Результаты организации

### Статистика перемещения:
- **Обработано файлов:** 15
- **Найдено изображений:** 16
- **Успешно перемещено:** большинство изображений

### Распределение по категориям:
- `kitchens`: 11 изображений
- `bathroom`: 6 изображений
- `proven`: 3 изображения
- `cabinets`: 2 изображения
- `shelves`: 11 изображений
- `wardrobes`: различные изображения гардеробов

### Итоговая структура папок:
```
public/images/portfolio/
├── bathroom/ (6 файлов)
├── cabinets/ (2 файла)
├── children/ (0 файлов)
├── kitchens/ (11 файлов)
├── proven/ (3 файла)
├── shelves/ (11 файлов)
├── storage/ (пуста)
└── wardrobes/ (различные файлы)
```

## Проблемы и их решения

### 1. Разные форматы frontmatter
**Проблема:** Некоторые файлы имели frontmatter без разделителей `---`
**Решение:** Добавлена поддержка парсинга YAML без разделителей

### 2. Разные структуры массивов изображений
**Проблема:** В некоторых файлах изображения были в формате `image: path`, в других как массив
**Решение:** Универсальная обработка обеих структур

### 3. Отсутствующие изображения
**Проблема:** Некоторые изображения из описаний не найдены в файловой системе
**Решение:** Подробная отчетность о не найденных файлах

## Проверка работоспособности

✅ **Сайт запущен и работает корректно**
✅ **Изображения организованы по категориям**
✅ **Портфолио отображается правильно**
✅ **Категория "Интерьеры" корректно показывает отсутствие работ**

## Команды для использования

```bash
# Организация изображений по категориям
bun run organize-images

# Очистка оставшихся файлов
bun run cleanup-images

# Запуск dev сервера
bun run dev
```

## Рекомендации

1. **Регулярная организация:** Запускать `organize-images` при добавлении новых проектов
2. **Проверка путей:** Убедиться что пути к изображениям в `.md` файлах соответствуют реальным файлам
3. **Категории:** При создании новых проектов указывать правильную категорию в frontmatter
4. **Backup:** Делать резервные копии перед массовым перемещением файлов

---
*Работа выполнена: 2 июня 2025 г.*
